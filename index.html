<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="HandheldFriendly" content="true">
    <title>Mafia시뮬레이터</title>
    <style>
        html{
            -webkit-text-size-adjust: none;
            text-size-adjust: none;
        }

        #container{
            margin: auto;
            margin-top: 10px;
            width: 80%;
            max-width: 1000px;
            padding: 10px;
            border: 1px solid gray;
            text-align: center;
        }

        #contents{
            padding: 10px;
            margin-top: 20px;
            border-top: 1px solid gray;
        }



        #main{
            margin: auto;
            max-width: 350px;
            height: 440px;
            border: 1px solid #eee;
            border-radius: 5px;
            background-color: #728b8d;
            position: relative;
            
        }

        #main-screen{
            margin: auto;
            margin-top: 10px;
            margin-bottom: 20px;
            width: 90%;
            height: 300px;
            border: 1px solid gray;
            border-radius: 5px;
            background-color: rgb(255, 244, 252);
            overflow: hidden;
            
        }

        
        #text-box{
            width: 90%;
            height: 100px;
            margin: auto;
            border: 1px solid black;
            border-radius: 5px;
            background-color: rgb(225, 225, 225);
            text-align: justify;
            font-size: 11px;
        }






        #talk-box{
            text-align: start;
        }

        .profile{
            height: 50px;
        }

        .profile img{
            height: 100%;
        }

        #profile-name{
            position: relative;
            display: inline;
            top: -10px;
            font-size: 12px;
        }

        .talk-text-box{
            width: fit-content;
            display: block;
            text-align: start;
            font-size: 11px;
            padding: 5px;
            padding-right: 10px;
            margin: 5px 0 0 15px;
            border: 1px solid #eee;
            border-radius: 5px;
            background-color: yellow;
            opacity: 0;
            animation: tsOpacity 1s;
            animation-fill-mode: forwards;
        }

        @keyframes tsOpacity{
            from {opacity: 0;}
            to {opacity: 1;}
        }



        #choice-box{
            height: 100%;
            display: flex;
            flex-flow: column nowrap;
            align-items: center;
            justify-content: space-around;
            overflow: hidden;
        }



        #choice-box button{
            font-size: 11px;
            width: 80%;
            background-color: #bedcd9;
            border: none;
            border-radius: 5px;
            box-shadow: 1px 1px gray;
            opacity: 0;
            animation: tsOpacity 1s;
            animation-fill-mode: forwards;
        }

        #choice-box button:active{
            background-color: #a7c2bf;
            box-shadow: 1px 1px gray;
        }



    </style>
</head>
<body>
    <div id="container">
        <h1>Mafia Simulater</h1>
        <div id="contents">
            <div id="main">
                <div id="main-screen">
                    <!--<div id="talk-box">
                        <div class="profile">
                            <img src="https://w.namu.la/s/aeae6255ae9edd5f5e243325fa31054fb10dd2216abdba1bc866fb273df5c7c87371b40f63656981785bd7aa2b9383e9a37c5751619ab52827ec1102853cdb98b40c677008f4a7bfe66e2a80ea62a21d3b939dc3730385ab6cac940a2adeb1ff" alt="도둑"><p id="profile-name"> 도둑</p>
                        </div>
                        <div class="talk-text-box">
                            하하..
                        </div>
                    </div>-->

                </div>

                <div id="text-box">
                    <div id="choice-box">

                    </div>
                </div>
            </div>
        </div>
    </div>


    <script>
        const mainScreen = document.getElementById("main-screen");
        const textBox = document.getElementById("textBox");
        const choiceBox = document.getElementById("choice-box");
        let talkBox;
        let talkTextBoxList = [];

        let btnLists=[
        ["절대로 안돼.","뭘 훔친거야?"],["aaa"]
        ];


        let choice=0;

        function createTalkBox(name, imgSource){
            talkBox = document.createElement("div");
            talkBox.setAttribute("id","talk-box");
            mainScreen.appendChild(talkBox);
            createProfile(name, imgSource);

        }

        function createProfile(name, imgSource){
            let profile = document.createElement("div");
            profile.classList.add("profile");
            talkBox.appendChild(profile);

            let profileImg = document.createElement("img");
            profileImg.setAttribute("src",`${imgSource}`);
            profile.appendChild(profileImg);
            
            let profileName = document.createElement("p");
            profileName.setAttribute("id","profile-name");
            profileName.innerText = `${name}`;
            profile.appendChild(profileName);
        }

        function createTalkTextBox(text){
            let talkTextBox = document.createElement("div");
            talkTextBoxList.push(talkTextBox);
            talkTextBox.classList.add("talk-text-box");
            talkTextBox.innerText=`${text}`;
            talkBox.appendChild(talkTextBox);
        }

        function destroyMainScreen(){
            while(mainScreen.hasChildNodes()){
                console.log(mainScreen.firstChild);
                mainScreen.removeChild(mainScreen.firstChild);
            }
        }

        function createChoiceBtn(num){
            let btnList = btnLists[num];
            for(let i = 0; i<btnList.length;i++){
                const btn = document.createElement("button");
                btn.innerText = `${btnList[i]}`;
                btn.setAttribute("id",`button${i+1}`);
                btn.addEventListener("click",onChoiceBtnClick);
                choiceBox.appendChild(btn);
                
            }
        }

        function destroyChoiceBtn(){
            while(choiceBox.hasChildNodes()){
                choiceBox.removeChild(choiceBox.firstChild);
            }

        }
        
        function onChoiceBtnClick(event){
            choice = event.target.id.split('button')[1];
            console.log(choice);
            
            destroyChoiceBtn();
        }

        function delayBtnCreate(num){
            createChoiceBtn(num);
        }


        createTalkBox("도둑","https://w.namu.la/s/aeae6255ae9edd5f5e243325fa31054fb10dd2216abdba1bc866fb273df5c7c87371b40f63656981785bd7aa2b9383e9a37c5751619ab52827ec1102853cdb98b40c677008f4a7bfe66e2a80ea62a21d3b939dc3730385ab6cac940a2adeb1ff");
        createTalkTextBox("흠...");
        createTalkTextBox("못 본걸로 해주면 안될까?");

        setTimeout(()=>{delayBtnCreate(0)},500);


    </script>
</body>
</html>
